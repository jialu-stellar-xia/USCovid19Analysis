<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | USCovid19Analysis</title>
  <meta name="description" content="Chapter 3 Data transformation | USCovid19Analysis" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | USCovid19Analysis" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | USCovid19Analysis" />
  
  
  

<meta name="author" content="Haoxiong Su; Jialu Xia; Yifei Zhang" />


<meta name="date" content="2020-12-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<link href="libs/parallel-coordinates-2.1.8/parcoords.css" rel="stylesheet" />
<script src="libs/parcoords-binding-1.0.0/parcoords.js"></script>
<script src="libs/r2d3-render-0.1.0/r2d3-render.js"></script>
<script src="libs/webcomponents-2.0.0/webcomponents.js"></script>
<script src="libs/r2d3-binding-0.2.3/r2d3.js"></script>
<script src="libs/d3v5-5.0.0/d3.min.js"></script>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">US Covid19</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a><ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#percentage-data"><i class="fa fa-check"></i><b>3.1</b> Percentage data</a><ul>
<li class="chapter" data-level="3.1.1" data-path="data-transformation.html"><a href="data-transformation.html#increase-in-covid-19-cases"><i class="fa fa-check"></i><b>3.1.1</b> Increase in covid-19 cases</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-transformation.html"><a href="data-transformation.html#inpatient-bed-occupation"><i class="fa fa-check"></i><b>3.1.2</b> Inpatient Bed Occupation</a></li>
<li class="chapter" data-level="3.1.3" data-path="data-transformation.html"><a href="data-transformation.html#previous-day-confirmedsuspected-case-for-adult-pediatric"><i class="fa fa-check"></i><b>3.1.3</b> Previous Day Confirmed/Suspected Case for Adult &amp; Pediatric</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#nationwide-data"><i class="fa fa-check"></i><b>3.2</b> Nationwide data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a><ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#how-does-covid19-spread-by-states-over-time"><i class="fa fa-check"></i><b>5.1</b> How does Covid19 spread by States over time?</a><ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#total-cases-in-us"><i class="fa fa-check"></i><b>5.1.1</b> Total cases in US</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#monthly-total-cases-in-thousands-by-states"><i class="fa fa-check"></i><b>5.1.2</b> Monthly total cases (in thousands) by States</a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#new-case-total-case-by-states"><i class="fa fa-check"></i><b>5.1.3</b> New case / Total case by States</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#how-does-medical-resources-affect-covid19-death-rate"><i class="fa fa-check"></i><b>5.2</b> How does medical resources affect Covid19 death rate?</a><ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#death-rate-and-hospital-admission-rate"><i class="fa fa-check"></i><b>5.2.1</b> Death rate and hospital admission rate</a></li>
<li class="chapter" data-level="5.2.2" data-path="results.html"><a href="results.html#death-rate-and-inpatient-bed-availability"><i class="fa fa-check"></i><b>5.2.2</b> Death rate and inpatient bed availability</a></li>
<li class="chapter" data-level="5.2.3" data-path="results.html"><a href="results.html#death-rate-and-inpatient-beds-availability-by-states"><i class="fa fa-check"></i><b>5.2.3</b> Death rate and inpatient beds availability by States</a></li>
<li class="chapter" data-level="5.2.4" data-path="results.html"><a href="results.html#pie-chart-for-inpatient-beds-utilization"><i class="fa fa-check"></i><b>5.2.4</b> Pie chart for inpatient beds utilization</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#trend-of-covid-19-in-us"><i class="fa fa-check"></i><b>5.3</b> Trend of Covid-19 in US</a><ul>
<li class="chapter" data-level="5.3.1" data-path="results.html"><a href="results.html#total-cases"><i class="fa fa-check"></i><b>5.3.1</b> Total cases</a></li>
<li class="chapter" data-level="5.3.2" data-path="results.html"><a href="results.html#new-cases"><i class="fa fa-check"></i><b>5.3.2</b> New cases</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#comparison-between-adult-and-pediatric-patient-over-time"><i class="fa fa-check"></i><b>5.4</b> Comparison between adult and pediatric patient over time</a></li>
<li class="chapter" data-level="5.5" data-path="results.html"><a href="results.html#does-covid19-impact-differently-on-adult-and-pediatric-patient"><i class="fa fa-check"></i><b>5.5</b> Does Covid19 impact differently on adult and pediatric patient?</a><ul>
<li class="chapter" data-level="5.5.1" data-path="results.html"><a href="results.html#comparison-between-adult-and-pediatric-patient-over-time-1"><i class="fa fa-check"></i><b>5.5.1</b> Comparison between adult and pediatric patient over time</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a><ul>
<li class="chapter" data-level="6.1" data-path="interactive-component.html"><a href="interactive-component.html#compare-death-rates-between-two-states-in-us-d3"><i class="fa fa-check"></i><b>6.1</b> Compare death rates between two states in US (D3)</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">USCovid19Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Data transformation</h1>
<div id="percentage-data" class="section level2">
<h2><span class="header-section-number">3.1</span> Percentage data</h2>
<p>To investigate the trend in each state, it is necessary to study the change in the percentage of bed occupations and confired/suspected cases besides comparing the real numbers. Therefore, we transform the values of some columns into percentage.</p>
<div id="increase-in-covid-19-cases" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Increase in covid-19 cases</h3>
<ul>
<li><p>The relationship between the covid-19 cases and hospital utilization might be highly related. We are interested in how many of the suspected/confirmed cases are in each state. Therefore, we would transform the counts of newly increased cases into the percentage of admitted covid-19 cases among the total cases in each state.</p></li>
<li>Raw values:</li>
</ul>
<ol style="list-style-type: decimal">
<li>tot_cases: [int]</li>
<li>new_case: [int]</li>
<li>tot_death: [int]</li>
<li>new_death: [int]</li>
</ol>
<ul>
<li>Transformed values:</li>
</ul>
<ol style="list-style-type: decimal">
<li>new_case_P: [float] new_case / tot_cases</li>
<li>tot_death_P: [int] tot_death / tot_cases</li>
<li>new_death_P: [int] new_death / tot_death</li>
</ol>
</div>
<div id="inpatient-bed-occupation" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Inpatient Bed Occupation</h3>
<ul>
<li><p>Some real numbers of counting need to be trasformed into the percentage for the use of studying the trends. For example, the number of inpatiend beds used for covid-19 will be transformed into the percetage in order to see if the inpatiend beds of the hospitals are overloaded due to covid-19.</p></li>
<li>Raw values:</li>
</ul>
<ol style="list-style-type: decimal">
<li>inpatient_beds: [int]</li>
<li>inpatient_beds_used: [int]</li>
<li>inpatient_beds_used_covid: [int]</li>
</ol>
<ul>
<li>Transformed values:</li>
</ul>
<ol style="list-style-type: decimal">
<li>inpatient_beds_used_P: [float] inpatient_beds_used/inpatient_beds</li>
<li>inpatient_beds_used_covid_P: [float] inpatient_beds_used_covid/inpatient_beds</li>
</ol>
</div>
<div id="previous-day-confirmedsuspected-case-for-adult-pediatric" class="section level3">
<h3><span class="header-section-number">3.1.3</span> Previous Day Confirmed/Suspected Case for Adult &amp; Pediatric</h3>
<ul>
<li><p>To study the differences between the impact on the adults and pediatrics from covid-19, we will split the data into two groups and study the changes of suspected/confirmed cases respectively in both groups. The impact of covid-19 on two groups might be different in different states so the average changes of two groups in US will be taken as the baseline to compare with the one of each state as well.</p></li>
<li>Raw values:
Adult:<br />
</li>
</ul>
<ol style="list-style-type: decimal">
<li>previous_day_admission_adult_covid_confirmed: [int]</li>
<li>previous_day_admission_adult_covid_suspected: [int]</li>
</ol>
<p>Pediatric:
1) previous_day_admission_pediatric_covid_confirmed: [int]
2) previous_day_admission_pediatric_covid_suspected: [int]</p>
<ul>
<li>Transformed values:
Adult:</li>
</ul>
<ol style="list-style-type: decimal">
<li>previous_day_admission_adult_covid_cases: [int] previous_day_admission_adult_covid_confirmed + previous_day_admission_adult_covid_suspected</li>
<li>previous_day_admission_adult_covid_confirmed_P: [float] previous_day_admission_adult_covid_confirmed / previous_day_admission_adult_covid_cases</li>
<li>previous_day_admission_adult_covid_suspected_P: [float] previous_day_admission_adult_covid_suspected / previous_day_admission_adult_covid_cases</li>
</ol>
<p>Pediatric:
1) previous_day_admission_pediatric_covid_cases: [int] previous_day_admission_pediatric_covid_confirmed + previous_day_admission_pediatric_covid_suspected
2) previous_day_admission_pediatric_covid_confirmed_P: [float] previous_day_admission_pediatric_covid_confirmed / previous_day_admission_pediatric_covid_cases
3) previous_day_admission_pediatric_covid_suspected_P: [float] previous_day_admission_pediatric_covid_suspected / previous_day_admission_pediatric_covid_cases</p>
<pre><code>##         date state new_case_P tot_death_P new_death_P inpatient_beds_used_P inpatient_beds_used_covid_P previous_day_admission_adult_covid_cases
## 1 2020-03-05    AK        NaN         NaN         NaN                    NA                          NA                                       NA
## 2 2020-03-05    AL        NaN         NaN         NaN             0.2580645                           0                                       NA
## 3 2020-03-05    AR        NaN         NaN         NaN                    NA                          NA                                       NA
## 4 2020-03-05    AZ  0.3333333  0.00000000         NaN             0.9800000                           0                                       NA
## 5 2020-03-05    CA  0.2000000  0.02222222           1             0.3636364                           0                                       NA
## 6 2020-03-05    CO  1.0000000  0.00000000         NaN                    NA                          NA                                       NA
##   previous_day_admission_pediatric_covid_confirmed_P previous_day_admission_adult_covid_suspected_P previous_day_admission_pediatric_covid_cases
## 1                                                 NA                                             NA                                           NA
## 2                                                 NA                                             NA                                           NA
## 3                                                 NA                                             NA                                           NA
## 4                                                 NA                                             NA                                           NA
## 5                                                 NA                                             NA                                           NA
## 6                                                 NA                                             NA                                           NA
##   previous_day_admission_pediatric_covid_confirmed_P.1 previous_day_admission_pediatric_covid_suspected_P
## 1                                                   NA                                                 NA
## 2                                                   NA                                                 NA
## 3                                                   NA                                                 NA
## 4                                                   NA                                                 NA
## 5                                                   NA                                                 NA
## 6                                                   NA                                                 NA</code></pre>
</div>
</div>
<div id="nationwide-data" class="section level2">
<h2><span class="header-section-number">3.2</span> Nationwide data</h2>
<ul>
<li>We group-by the data by date and summaries the counting values of some columns to investigate the trend of the nationwide situation. To study the trends of covid-19 over states and its impact on the hospital utilization, we have grouped-by the data by states and look into the situations changing along with time. Since the trends might be different due to the policies, population size and resources of each state, we will also be interested in how the differeces look like by comparing the trend of each state with the one of the whole country.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jialu-stellar-xia/USCovid19Analysis/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/jialu-stellar-xia/USCovid19Analysis/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
